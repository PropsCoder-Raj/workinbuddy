<ion-header class="ion-no-border" mode="ios">
  <ion-toolbar mode="ios" color="transparent">
    <ion-buttons slot="start">
      <ion-buttons slot="start">
        <ion-back-button color="white" text=""></ion-back-button>
      </ion-buttons>
    </ion-buttons>
    <ion-title color="white" mode="md" class="ion-text-center">Referral Code</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">

  
  <ion-grid class="topSection">
    <ion-row>
      <ion-col size="12" class="ion-text-center">
        <div class="ion-text-center">
          <img src="assets/img/refer.png" alt="" style="height: 18rem;width: 19rem;">
        </div>
      </ion-col>
      <ion-col size="12">
        <ion-card>
          <div class="referalCodeBox">
            <ion-item lines="none">
              <ion-label>{{userS.userReferalCode}}</ion-label>
              <ion-icon (click)="copyMessage(userS.userReferalCode)" name="copy-outline" slot="end" color="orange"></ion-icon>
              <ion-icon (click)="share()" name="share-social-outline" slot="end" color="orange"></ion-icon>
            </ion-item>
          </div>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <h6>How to use referral code:</h6>
        <div style="padding-right: 5px;">
          <ol>
            <li>Share referral code with friends</li>
            <li>Your friends will get <b>AED {{referralAmount}}</b> discount on package subscription</li>
            <li>You will earn <b>AED {{referralAmount}}</b> and redeem on package subscription</li>
          </ol>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid class="dataSection">
    <ion-row>
      <ion-col size="12">
        <ng-container *ngIf="skeletonStatus">
          <ion-item lines="full">
            <ion-label>
              <ion-row>
                <ion-col>
                  <h3><ion-skeleton-text style="height: 13px;" animated></ion-skeleton-text></h3>
                  <div><ion-skeleton-text style="height: 7px;margin-top: 5px;" animated></ion-skeleton-text></div>
                </ion-col>
              </ion-row>
            </ion-label>
          </ion-item>
          <ion-item lines="full">
            <ion-label>
              <ion-row>
                <ion-col>
                  <h3><ion-skeleton-text style="height: 13px;" animated></ion-skeleton-text></h3>
                  <div><ion-skeleton-text style="height: 7px;margin-top: 5px;" animated></ion-skeleton-text></div>
                </ion-col>
              </ion-row>
            </ion-label>
          </ion-item>
        </ng-container>
        <ng-container *ngIf="!skeletonStatus && !historyStatus && historyArr.length !== 0">
          <ion-item lines="none">
            <ion-label class="ion-text-center">User Apply Referral Code List</ion-label>
          </ion-item>
          <ng-container *ngFor="let item of historyArr">
            <ion-item lines="full" *ngIf="item.data.type === 'referalCodeApply'">
              <ion-label>
                <ion-row>
                  <ion-col size="6">
                    <h3><ion-text color="orange">{{item.userData.name}}</ion-text></h3>
                    <div>{{item.data.timestamp.toDate() | date : 'dd/MM/yyyy hh:mm a'}}</div>
                  </ion-col>
                  <ion-col size="6">
                    <h3 class="ion-text-right">AED {{item.data.amount}}</h3>
                  </ion-col>
                </ion-row>
              </ion-label>
            </ion-item>
          </ng-container>
        </ng-container>  
      </ion-col>
    </ion-row>
  </ion-grid>

</ion-content>
